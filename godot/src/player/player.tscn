[gd_scene load_steps=5 format=3 uid="uid://c78s68trv7dj3"]

[ext_resource type="Script" uid="uid://bhsc7s0vmsm5m" path="res://src/player/player.gd" id="1_x5q4h"]
[ext_resource type="PackedScene" uid="uid://dkx5f3mgc3mdq" path="res://src/player/hud.tscn" id="2_u6rmv"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_ymbmu"]

[sub_resource type="GDScript" id="GDScript_rxibo"]
script/source = "extends Node3D
@onready var camera_3d: Camera3D = $Camera3D
var mouse_sensitivity = 0.1

func _input(event):
	if event is InputEventMouseMotion and Input.mouse_mode != Input.MOUSE_MODE_VISIBLE:
		rotate_y(deg_to_rad(-event.relative.x * mouse_sensitivity))
		camera_3d.rotate_x(deg_to_rad(-event.relative.y * mouse_sensitivity))
		camera_3d.rotation.x = clamp(camera_3d.rotation.x,deg_to_rad(-89),deg_to_rad(89) )
		PlayerVariables.camera_direction = -camera_3d.global_transform.basis.z.normalized()
"

[node name="Player" type="CharacterBody3D"]
script = ExtResource("1_x5q4h")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
shape = SubResource("CapsuleShape3D_ymbmu")

[node name="Head" type="Node3D" parent="."]
script = SubResource("GDScript_rxibo")

[node name="Camera3D" type="Camera3D" parent="Head"]

[node name="HUD" parent="." instance=ExtResource("2_u6rmv")]
